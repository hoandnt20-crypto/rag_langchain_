<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="CLIP-powered image retrieval system - Search videos using text or images">
  <title>Video Retrieval | NewbieAI</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <!-- Left Sidebar: Search Panel (Full Height) -->
    <aside class="search-sidebar">
      <!-- Search Section -->
      <section class="search-section">
        <!-- Compact Search Controls -->
        <div class="search-controls">
          <select id="searchModeSelect" class="search-mode-select">
            <option value="text">Text CLIP</option>
            <option value="description">Description</option>
            <option value="transcription">Transcription</option>
            <option value="image">Image CLIP</option>
          </select>

          <div class="topk-compact">
            <span class="topk-label-compact">Top K:</span>
            <input type="number" id="topkInput" class="topk-input-compact" value="200" min="1" max="500" step="10">
          </div>
          <button id="searchBtn" class="btn btn-primary">
            üîç
          </button>
        </div>

        <!-- Text Search Content -->
        <div id="textSearchContent" class="search-content active">
          <div class="search-input-group-sidebar">
            <textarea id="searchInput" class="search-input" placeholder="Describe what you're looking for..."
              rows="1"></textarea>
          </div>
        </div>
        <!-- Image Search Content - ƒê√É C·∫¨P NH·∫¨T ƒê·ªÇ G·ªòP PREVIEW -->
        <div id="imageSearchContent" class="search-content">
          <!-- Khu v·ª±c Upload/Preview -->
          <div id="uploadArea" class="upload-area">

            <!-- ·∫¢nh Preview (·∫®n m·∫∑c ƒë·ªãnh) -->
            <img id="previewImage" class="preview-image" alt="Preview Image" style="display: none;">

            <!-- N·ªôi dung m·∫∑c ƒë·ªãnh khi ch∆∞a c√≥ ·∫£nh -->
            <div id="uploadDefaultContent" class="upload-default-content">
              <div class="upload-icon">üì§</div>
              <div class="upload-text">Upload Image</div>
              <div class="upload-subtext">PNG, JPG, JPEG</div>
            </div>

            <!-- N√∫t x√≥a ·∫£nh ƒë√£ ch·ªçn (·∫®n m·∫∑c ƒë·ªãnh) -->
            <button id="clearImageBtn" class="clear-image-btn" style="display: none;">‚úï</button>

            <!-- Input file ƒë∆∞·ª£c ƒë·∫∑t ·ªü ƒë√¢y v√† l√†m cho n√≥ bao ph·ªß to√†n b·ªô v√πng qua CSS -->
            <input type="file" id="imageInput" accept="image/*">
          </div>
        </div>

        <!-- Error Message -->
        <div id="errorMessage" class="error-message"></div>
      </section>

      <!-- YouTube Video Preview (Moved below search) -->
      <div id="videoPreview" class="video-preview">
        <div class="video-preview-header">
          <h3>Video Preview</h3>
          <button id="closePreview" class="close-preview-btn">‚úï</button>
        </div>
        <div class="video-container">
          <div id="youtubePlayer" style="width: 100%; height: 240px;"></div>
        </div>
        <div class="video-info">
          <div id="videoTitle" class="video-title"></div>
          <div id="videoTime" class="video-time"></div>
        </div>
      </div>

      <!-- Loading Indicator -->
      <div id="loading" class="loading">
        <div class="spinner"></div>
        <p>Searching...</p>
      </div>
    </aside>

    <!-- Right Content: Header + Results -->
    <div class="content-wrapper">
      <!-- Header -->
      <header class="header">
        <h1>üîç Video Retrieval</h1>
        <p>Search through video keyframes using natural language or images</p>
      </header>

      <!-- Results Panel -->
      <main class="results-panel">
        <!-- Empty State -->
        <div id="emptyState" class="empty-state active">
          <div class="empty-icon">üîç</div>
          <h3>No results yet</h3>
          <p>Start searching to see results here</p>
        </div>

        <!-- Results Section -->
        <section id="resultsSection" class="results-section">
          <div class="results-header">
            <h2>Results</h2>
            <span id="resultsCount" class="results-count"></span>
          </div>
          <div id="videoResults" class="video-results"></div>
        </section>
      </main>
    </div>
  </div>

  <script src="https://www.youtube.com/iframe_api"></script>
  <script src="app.js"></script>
</body>

</html>