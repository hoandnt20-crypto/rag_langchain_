<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="CLIP-powered image retrieval system - Search videos using text or images">
  <title>CLIP Image Retrieval | NewbieAI</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <!-- Left Sidebar: Search Panel (Full Height) -->
    <aside class="search-sidebar">
      <!-- Search Section -->
      <section class="search-section">
        <!-- Compact Search Controls -->
        <div class="search-controls">
          <select id="searchModeSelect" class="search-mode-select">
            <option value="text">ğŸ“ Text Search</option>
            <option value="image">ğŸ–¼ï¸ Image Search</option>
          </select>

          <div class="topk-compact">
            <span class="topk-label-compact">Top K:</span>
            <input type="number" id="topkInput" class="topk-input-compact" value="100" min="1" max="500" step="10">
          </div>
        </div>

        <!-- Text Search Content -->
        <div id="textSearchContent" class="search-content active">
          <div class="search-input-group-sidebar">
            <input type="text" id="searchInput" class="search-input" placeholder="Describe what you're looking for...">
            <button id="searchBtn" class="btn btn-primary">
              Search
            </button>
          </div>
        </div>

        <!-- Image Search Content - ÄÃƒ Cáº¬P NHáº¬T Äá»‚ Gá»˜P PREVIEW -->
        <div id="imageSearchContent" class="search-content">
          <!-- Khu vá»±c Upload/Preview -->
          <div id="uploadArea" class="upload-area">
            
            <!-- áº¢nh Preview (áº¨n máº·c Ä‘á»‹nh) -->
            <img id="previewImage" class="preview-image" alt="Preview Image" style="display: none;">
            
            <!-- Ná»™i dung máº·c Ä‘á»‹nh khi chÆ°a cÃ³ áº£nh -->
            <div id="uploadDefaultContent" class="upload-default-content">
              <div class="upload-icon">ğŸ“¤</div>
              <div class="upload-text">Upload Image</div>
              <div class="upload-subtext">PNG, JPG, JPEG</div>
            </div>

            <!-- NÃºt xÃ³a áº£nh Ä‘Ã£ chá»n (áº¨n máº·c Ä‘á»‹nh) -->
            <button id="clearImageBtn" class="clear-image-btn" style="display: none;">âœ•</button>
            
            <!-- Input file Ä‘Æ°á»£c Ä‘áº·t á»Ÿ Ä‘Ã¢y vÃ  lÃ m cho nÃ³ bao phá»§ toÃ n bá»™ vÃ¹ng qua CSS -->
            <input type="file" id="imageInput" accept="image/*">
          </div>

          <button id="uploadBtn" class="btn btn-primary" style="margin-top: 1rem; width: 100%;">
            Search
          </button>
        </div>

        <!-- Error Message -->
        <div id="errorMessage" class="error-message"></div>
      </section>

      <!-- YouTube Video Preview (Moved below search) -->
      <div id="videoPreview" class="video-preview">
        <div class="video-preview-header">
          <h3>Video Preview</h3>
          <button id="closePreview" class="close-preview-btn">âœ•</button>
        </div>
        <div class="video-container">
          <div id="youtubePlayer" style="width: 100%; height: 240px;"></div>
        </div>
        <div class="video-info">
          <div id="videoTitle" class="video-title"></div>
          <div id="videoTime" class="video-time"></div>
        </div>
      </div>

      <!-- Loading Indicator -->
      <div id="loading" class="loading">
        <div class="spinner"></div>
        <p>Searching...</p>
      </div>
    </aside>

    <!-- Right Content: Header + Results -->
    <div class="content-wrapper">
      <!-- Header -->
      <header class="header">
        <h1>ğŸ” CLIP Image Retrieval</h1>
        <p>Search through video keyframes using natural language or images</p>
      </header>

      <!-- Results Panel -->
      <main class="results-panel">
        <!-- Empty State -->
        <div id="emptyState" class="empty-state active">
          <div class="empty-icon">ğŸ”</div>
          <h3>No results yet</h3>
          <p>Start searching to see results here</p>
        </div>

        <!-- Results Section -->
        <section id="resultsSection" class="results-section">
          <div class="results-header">
            <h2>Results</h2>
            <span id="resultsCount" class="results-count"></span>
          </div>
          <div id="videoResults" class="video-results"></div>
        </section>
      </main>
    </div>
  </div>

  <script src="https://www.youtube.com/iframe_api"></script>
  <script src="app.js"></script>
</body>

</html>